<div
  id="ds-popup"
  *ngIf="isShown"
  class="fixed inset-0"
  [ngClass]="[theme.base, className]"
>
  <!-- Backdrop -->
  <div
    class="popup-overlay"
    [ngClass]="theme.overlay"
    (click)="onBackdropClick($event)"
  ></div>

  <!-- Transition Panel -->
  <div
    class="absolute"
    [ngClass]="[
      theme.variants[variant].base,
      isFullScreen ? 'h-screen' : 'max-h-fit'
    ]"
  >
    <div
      [ngClass]="[
        theme.panel,
        theme.variants[variant].panel,
        getAnimationClass(),
        panelClassName
      ]"
    >
      <button (click)="onClose()" class="absolute top-1.5 right-1.5">
        <ds-icon id="close" size="24px"></ds-icon>
      </button>
      <div
        *ngIf="icon"
        class="flex items-center justify-center p-2 rounded-full mb-3.5"
        [ngClass]="
          type === 'success'
            ? 'bg-green-100'
            : type === 'warning'
            ? 'bg-amber-100'
            : type === 'error'
            ? 'bg-red-100'
            : 'bg-blue-100'
        "
      >
        <ds-icon
          [id]="icon"
          size="1.25rem"
          [ngClass]="
            type === 'success'
              ? 'text-green-500'
              : type === 'warning'
              ? 'text-amber-500'
              : type === 'error'
              ? 'text-red-500'
              : 'text-blue-500'
          "
        ></ds-icon>
      </div>
      <h2 *ngIf="heading" class="text-[1.25rem]/[1.5rem] font-bold">
        {{ heading }}
      </h2>
      <ng-content></ng-content>
    </div>
  </div>
</div>
