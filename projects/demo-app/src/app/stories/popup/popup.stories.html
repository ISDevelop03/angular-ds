<div class="p-4 grid gap-4">
  <h2 class="text-4xl font-bold mb-6">Popup</h2>
  <h3 class="text-2xl font-bold">Popup Variants</h3>

  <div class="flex gap-2">
    <ds-button (onClick)="openSlideLeft()" class="btn btn-secondary">
      Open Slide Left
    </ds-button>
    <ds-button (onClick)="openSlideRight()" class="btn btn-accent">
      Open Slide Right
    </ds-button>
  </div>

  <ds-popup
    [isShown]="isModalOpen"
    [heading]="'Modal Popup'"
    variant="modal"
    [close]="closeModal.bind(this)"
    class="z-50"
  >
    <div class="p-4">This is a centered modal popup.</div>
  </ds-popup>

  <ds-popup
    [isShown]="isSlideLeftOpen"
    [heading]="'Slide Left Popup'"
    variant="slideLeft"
    [close]="closeSlideLeft.bind(this)"
    class="z-40"
  >
    <div class="h-screen w-96">
      <div>This is a slide left popup.</div>
      <ds-button (onClick)="openModal()" class="btn btn-primary"
        >Open Modal</ds-button
      >
    </div>
  </ds-popup>

  <ds-popup
    [isShown]="isSlideRightOpen"
    [heading]="'Slide Right Popup'"
    variant="slideRight"
    [close]="closeSlideRight.bind(this)"
  >
    <div class="p-4">This is a slide right popup.</div>
  </ds-popup>

  <!-- API Documentation Table -->
  <h3 class="text-2xl font-bold mt-8"># API Reference</h3>

  <div class="overflow-x-auto">
    <table class="min-w-full border-collapse border border-gray-300 bg-white">
      <thead class="bg-gray-100">
        <tr>
          <th class="border border-gray-300 px-4 py-3 text-left font-semibold">
            Property
          </th>
          <th class="border border-gray-300 px-4 py-3 text-left font-semibold">
            Type
          </th>
          <th class="border border-gray-300 px-4 py-3 text-left font-semibold">
            Default
          </th>
          <th class="border border-gray-300 px-4 py-3 text-left font-semibold">
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <!-- Component Inputs -->
        <tr class="bg-blue-50">
          <td
            colspan="4"
            class="border border-gray-300 px-4 py-2 font-bold text-lg"
          >
            Component Inputs
          </td>
        </tr>
        <tr>
          <td class="border border-gray-300 px-4 py-2 font-mono text-sm">
            isShown
          </td>
          <td class="border border-gray-300 px-4 py-2">
            <code class="text-sm">boolean</code>
          </td>
          <td class="border border-gray-300 px-4 py-2">
            <code class="text-sm">false</code>
          </td>
          <td class="border border-gray-300 px-4 py-2">
            Controls the visibility of the popup. When <code>true</code>, the
            popup is displayed with backdrop and animations. When
            <code>false</code>, the popup is hidden (removed from DOM via
            <code>*ngIf</code>). Use to show/hide the popup programmatically.
          </td>
        </tr>
        <tr>
          <td class="border border-gray-300 px-4 py-2 font-mono text-sm">
            variant
          </td>
          <td class="border border-gray-300 px-4 py-2">
            <code class="text-sm">'modal' | 'slideLeft' | 'slideRight'</code>
          </td>
          <td class="border border-gray-300 px-4 py-2">
            <code class="text-sm">'modal'</code>
          </td>
          <td class="border border-gray-300 px-4 py-2">
            Visual style and positioning variant for the popup:
            <ul class="list-disc list-inside mt-2 space-y-1">
              <li>
                <code>'modal'</code>: Centered modal dialog with fade-in and
                scale animation. Positioned in the center of the screen with
                backdrop.
              </li>
              <li>
                <code>'slideLeft'</code>: Slides in from the right side of the
                screen. Fixed to the right edge, full height. Uses slide-in-left
                animation.
              </li>
              <li>
                <code>'slideRight'</code>: Slides in from the left side of the
                screen. Fixed to the left edge, full height. Uses slide-in-right
                animation.
              </li>
            </ul>
            Each variant has its own positioning, styling, and animation.
          </td>
        </tr>
        <tr>
          <td class="border border-gray-300 px-4 py-2 font-mono text-sm">
            heading
          </td>
          <td class="border border-gray-300 px-4 py-2">
            <code class="text-sm">string</code>
          </td>
          <td class="border border-gray-300 px-4 py-2">
            <code class="text-sm">undefined</code>
          </td>
          <td class="border border-gray-300 px-4 py-2">
            Optional heading text displayed at the top of the popup panel. Shown
            in bold text above the content. When provided, a heading element is
            rendered. Use to provide a title or label for the popup (e.g.,
            'Modal Popup', 'Slide Left Popup').
          </td>
        </tr>
        <tr>
          <td class="border border-gray-300 px-4 py-2 font-mono text-sm">
            close
          </td>
          <td class="border border-gray-300 px-4 py-2">
            <code class="text-sm">() =&gt; void</code>
          </td>
          <td class="border border-gray-300 px-4 py-2">
            <code class="text-sm">() =&gt; &#123;&#125;</code>
          </td>
          <td class="border border-gray-300 px-4 py-2">
            Callback function executed when the popup is closed. Called when:
            <ul class="list-disc list-inside mt-2 space-y-1">
              <li>The close button (X icon) is clicked</li>
              <li>The Escape key is pressed</li>
              <li>The backdrop is clicked (outside the popup panel)</li>
            </ul>
            Use to update state, clean up resources, or perform actions when the
            popup closes. The component also sets <code>isShown</code> to
            <code>false</code> internally.
          </td>
        </tr>
        <tr>
          <td class="border border-gray-300 px-4 py-2 font-mono text-sm">
            className
          </td>
          <td class="border border-gray-300 px-4 py-2">
            <code class="text-sm">string</code>
          </td>
          <td class="border border-gray-300 px-4 py-2">
            <code class="text-sm">''</code>
          </td>
          <td class="border border-gray-300 px-4 py-2">
            Optional additional CSS classes to apply to the popup panel. Useful
            for custom styling, layout adjustments, or z-index control (e.g.,
            <code>z-50</code>, <code>z-40</code>). Applied to the panel element
            alongside variant-specific theme classes and animation classes.
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="mt-6 p-4 bg-gray-50 rounded-lg">
    <h4 class="font-bold text-lg mb-2">Additional Notes:</h4>
    <ul class="list-disc list-inside space-y-2 text-sm text-gray-700">
      <li>
        <strong>Content Projection:</strong> The component supports content
        projection via <code>ng-content</code>. You can project custom content
        (e.g., forms, text, buttons, HTML elements) into the popup panel. The
        projected content appears below the heading (if provided).
      </li>
      <li>
        <strong>Backdrop:</strong> All variants include a semi-transparent
        backdrop overlay that covers the entire screen. The backdrop has
        different opacity in light and dark modes. Clicking the backdrop closes
        the popup by calling the <code>close</code> callback.
      </li>
      <li>
        <strong>Close Button:</strong> A close button (X icon) is always
        displayed in the top-right corner of the popup panel. Clicking it closes
        the popup by calling the <code>close</code> callback.
      </li>
      <li>
        <strong>Keyboard Support:</strong> The popup listens for the Escape key
        press. When Escape is pressed and the popup is shown, it automatically
        closes by calling the <code>close</code> callback. This provides
        keyboard accessibility.
      </li>
      <li>
        <strong>Animations:</strong> Each variant has its own animation:
        <ul class="list-disc list-inside ml-4 mt-1 space-y-1">
          <li>
            <strong>Modal:</strong> Fade-in and scale animation
            (<code>animate-fadeInScale</code>)
          </li>
          <li>
            <strong>Slide Left:</strong> Slide-in from right animation
            (<code>animate-slideInLeft</code>)
          </li>
          <li>
            <strong>Slide Right:</strong> Slide-in from left animation
            (<code>animate-slideInRight</code>)
          </li>
        </ul>
      </li>
      <li>
        <strong>Z-Index:</strong> The popup has a default z-index of 50
        (<code>z-50</code>). You can override this using the
        <code>className</code> input if you need different stacking order (e.g.,
        for nested popups).
      </li>
      <li>
        <strong>Positioning:</strong>
        <ul class="list-disc list-inside ml-4 mt-1 space-y-1">
          <li>
            <strong>Modal:</strong> Centered on screen using flexbox and
            transforms
          </li>
          <li>
            <strong>Slide Left:</strong> Fixed to the right edge, full height
          </li>
          <li>
            <strong>Slide Right:</strong> Fixed to the left edge, full height
          </li>
        </ul>
      </li>
      <li>
        <strong>Lifecycle:</strong> The component implements
        <code>OnDestroy</code> to clean up event listeners when the component is
        destroyed. The popup is conditionally rendered using
        <code>*ngIf="isShown"</code>, so it's completely removed from the DOM
        when hidden.
      </li>
    </ul>
  </div>
</div>
